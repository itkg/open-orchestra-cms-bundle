{##
 # This file is part of the PHPOrchestra\CMSBundle.
 #
 # @author NoÃ«l GILAIN <noel.gilain@businessdecision.com>
 ##}

{% block contentTypeFields_widget %}
    {% for key, value in form %}
        {% if key starts with 'customField' %}
            {{ form_widget(form[key]) }}
      {% endif %}
    {% endfor %}
{% endblock %}


{% block orchestra_customField_widget %}
<fieldset>
    <legend>
        {% if form.vars.value.fieldId != '' %}
            {{ 'contentTypes.form.field%fieldId%'|trans({'fieldId':form.vars.value.fieldId}, 'backOffice') }}
        {% else %}
            {{ 'contentTypes.form.newField'|trans({}, 'backOffice') }}
        {% endif %}
        [{{ form.vars.value.type }}]
    </legend>
    {{ form_row(form.removeField) }}
    {{ form_row(form.symfonyType) }}
    {{ form_row(form.fieldId) }}
    {{ form_widget(form.label) }}
    {{ form_row(form.defaultValue) }}
    {{ form_row(form.searchable) }}
    {% for key, value in form %}
        {% if key starts with 'option' %}
            {{ form_row(form[key]) }}
        {% endif %}
    {% endfor %}
</fieldset>
{% endblock %}


{% block multilingualText_widget %}
<div class="widget-body">
    {{ form_label(form)}}
    <ul class="nav nav-tabs bordered" id="tab_{{ form.vars.id }}" style="margin-top:5px;">
    {% for key, value in form %}
        {% if key starts with 'language' %}
            {% set language = key|replace({'language_':''}) %}
            {% set flagPath = asset('bundles/phporchestracms/img/flags/' ~ language ~ '.png') %}
            {% set flagTag = '<img alt="' ~ language ~ ' flag" src="' ~ flagPath ~ '"> ' %}
        <li class="{% if loop.first %}active{% endif %}">
            <a data-toggle="tab" href="#language_{{ form.vars.id }}_{{ language }}">{{ (flagTag ~ language|upper) | raw }}</a>
        </li>
      {% endif %}
    {% endfor %}
    </ul>
    <div class="tab-content padding-10" id="tabContent_{{ form.vars.id }}">
    {% for key, value in form %}
        {% if key starts with 'language' %}
            {% set language = key|replace({'language_':''}) %}
        <div id="language_{{ form.vars.id }}_{{ language }}" class="tab-pane {% if loop.first %} active in{% endif %}">
            <section>
                <label class="label input" style="margin-top:14px;">
                    {{ form_widget(form[key]) }}<i></i>
                </label>
                <div class="note note-error">{{ form_errors(form[key]) }}</div>
            </section>
        </div>
      {% endif %}
    {% endfor %}
    </div>
</div>
{% endblock %}